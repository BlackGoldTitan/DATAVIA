# CRCRECOVER 项目总结

## 项目概述
CRCRECOVER 是一个用C++编写的硬盘扇区数据完整性校验和修复工具，支持Windows平台。该项目实现了对指定硬盘扇区数据的CRC32校验数据生成、完整性验证和数据修复功能。

## 主要功能

### 1. 数据完整性校验
- **生成校验数据**: 对指定硬盘扇区生成CRC32校验和
- **验证数据完整性**: 使用生成的校验数据验证扇区数据是否损坏
- **修复损坏数据**: 从备份磁盘恢复损坏的扇区数据

### 2. 支持多种存储设备
- **物理硬盘**: 支持 `\\.\PhysicalDriveX` 格式的物理磁盘访问
- **逻辑分区**: 支持 `C:` 等逻辑分区访问
- **光碟设备**: 支持CD/DVD-ROM的扇区校验

### 3. 用户界面
- **命令行界面**: 提供简洁的命令行操作方式
- **图形界面**: 提供用户友好的GUI操作界面

## 技术实现

### 核心算法
- **CRC32校验**: 使用IEEE 802.3标准的CRC32多项式 (0xEDB88320)
- **动态表生成**: 运行时动态生成CRC32查找表，避免硬编码
- **扇区读取**: 使用Windows API直接访问磁盘扇区

### 文件结构
```
CRCRECOVER/
├── main.cpp              # 命令行主程序
├── main_gui.cpp          # GUI主程序
├── DiskSectorCRC.h       # 核心功能头文件
├── DiskSectorCRC.cpp     # 核心功能实现
├── GUIWindow.h           # GUI界面头文件
├── GUIWindow.cpp         # GUI界面实现
├── CMakeLists.txt        # CMake构建配置
├── README.md             # 项目说明文档
└── PROJECT_SUMMARY.md    # 项目总结文档
```

### 编译构建
项目使用CMake构建系统，支持以下目标：
- `CRCRECOVER`: 命令行版本
- `CRCRECOVER_GUI`: 图形界面版本

## 使用示例

### 命令行版本
```bash
# 生成校验数据
CRCRECOVER generate C: 0 1000 checksums.dat

# 验证数据完整性
CRCRECOVER verify C: checksums.dat

# 修复损坏数据
CRCRECOVER repair C: checksums.dat D:
```

### GUI版本
运行 `CRCRECOVER_GUI.exe` 后选择相应功能：
1. 生成校验数据
2. 验证数据完整性
3. 修复损坏数据
4. 光碟校验
5. 退出

## 技术特点

### 1. 高性能
- 使用CRC32查找表优化计算速度
- 支持大容量磁盘的批量处理
- 进度回调机制提供实时反馈

### 2. 安全性
- 权限检查确保操作安全
- 错误处理机制完善
- 备份磁盘验证防止数据丢失

### 3. 可扩展性
- 模块化设计便于功能扩展
- 支持多种存储设备类型
- 易于添加新的校验算法

## 测试验证

### CRC32算法测试
- ✅ 标准CRC32表生成正确
- ✅ 已知测试数据CRC32值正确
- ✅ 空字符串处理正确

### 程序编译测试
- ✅ 命令行版本编译成功
- ✅ GUI版本编译成功
- ✅ 程序运行正常

## 注意事项

1. **权限要求**: 某些磁盘操作需要管理员权限
2. **数据安全**: 修复操作会覆盖目标磁盘数据，请谨慎使用
3. **备份建议**: 在进行修复操作前确保有有效的数据备份
4. **兼容性**: 主要针对Windows平台设计

## 未来扩展

- [ ] 支持更多校验算法 (MD5, SHA-1, SHA-256)
- [ ] 添加网络磁盘支持
- [ ] 实现增量校验功能
- [ ] 添加日志记录系统
- [ ] 支持RAID阵列校验

## 作者
Cline - AI助手

## 版本
v2.0 - 支持GUI和光碟操作
